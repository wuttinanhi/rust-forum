{{#*inline "page"}}

<div id="post_menu" class="my-3 d-flex flex-row justify-content-between align-items-center">
    <h5 class="text-secondary">Posts:</h5>

    {{ #if user }}
    <a href="/posts/create" class="btn btn-primary float-end">New Post</a>
    {{/if}}
</div>

<div id="posts" class="my-3">
    {{#each posts_result.posts}}

    <div class="card my-3 p-0" id="{{this.post.id}}">
        <div class="card-body m-0">
            <a href="/posts/{{this.post.id}}">
                {{this.post.title}}
            </a>

            <div class="d-flex flex-row gap-3 mt-2 mb-0 py-0">
                <div>
                    <i class="bi bi-person"></i>
                    <a href="/users/profile/{{this.user.id}}">{{this.user.name}}</a>
                </div>

                <div>
                    <i class="bi bi-calendar"></i>
                    <span class="mx-2">{{this.time_human}}</span>
                </div>
            </div>
        </div>
    </div>

    {{/each}}
</div>



<div id="posts_pagination" class="d-flex flex-row justify-content-end">
    <div class="d-flex flex-row align-items-baseline gap-3">
        <p>Total posts : {{ posts_result.total }}</p>

        {{ pagination pagination_result }}
    </div>
</div>

{{/inline}}
{{> (lookup this "parent")}}